"use strict";(self.webpackChunkgeoview_loader=self.webpackChunkgeoview_loader||[]).push([[475],{3052:(a,e,t)=>{var r=t(6307),s=t(5379),i=t(5964),n=t(1339),p=t(5202);function o(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,r)}return t}function l(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){(0,i.Z)(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}var m=window,c=function(a){var e=a.mapId,t=m.cgpv,r=t.api,s=t.react,i=t.ui,o=t.useTranslation,c=s.useState,d=s.useEffect,u=(r.map(e).language,i.makeStyles((function(){return{listContainer:{overflowY:"scroll",height:"600px"},card:{boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2)",transition:"0.3s",borderRadius:"5px","&:hover":{boxShadow:"0 8px 16px 0 rgba(0, 0, 0, 0.2)"},marginBottom:10,height:"120px",width:"100%",display:"block",position:"relative"},thumbnail:{borderRadius:"5px",position:"absolute",height:"100%",width:"100%",opacity:.8},container:{background:"rgba(0,0,0,.68)",color:"#fff",overflow:"hidden",textOverflow:"ellipsis",height:"40px",display:"flex",alignItems:"center",padding:"0 5px",boxSizing:"border-box",position:"absolute",left:0,bottom:0,width:"inherit"}}}))),b=c([]),h=(0,n.Z)(b,2),g=h[0],x=h[1],f=u(),y=o().t,v=function(a,t){var s=r.map(e).basemap.basemaps.filter((function(e){return e.id===a}));if(0===s.length){var i=l(l({},t),{},{id:a});r.map(e).basemap.createBasemap(i)}},C=function(a){r.map(e).basemap.setBasemap(a)};return d((function(){var a=r.map(e).basemap.basemaps;x(a),v("transportWithLabels",{name:y("basemap-transport-label.name"),type:"transport_label",description:"This Canadian basemap provides geographic context with bilingual labels and an emphasis on transportation networks. From Natural Resources Canada.",descSummary:"",altText:y("basemap-transport-label.name"),thumbnailUrl:"",layers:[{id:"transport",type:"transport",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT_CBCT_GEOM_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"transport",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}},{id:"label",type:"label",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/xxxx_TXT_3978/MapServer/WMTS/tile/1.0.0/xxxx_TXT_3978/default/default028mm/{z}/{y}/{x}.jpg".replaceAll("xxxx",y("layer.type")),opacity:1,basemapPaneName:"label",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}}),v("transportWithNoLabels",{name:y("basemap-transport.name"),type:"transport",description:"This Canadian basemap provides geographic context that emphasis on transportation networks. From Natural Resources Canada.",descSummary:"",altText:y("basemap-transport.name"),thumbnailUrl:"",layers:[{id:"transport",type:"transport",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT_CBCT_GEOM_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"transport",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}}),v("shadedRelief",{name:y("basemap-shaded.name"),type:"shaded",description:'":"This Canadian base map provides geographic context using shaded relief. From Natural Resources Canada.',descSummary:"",altText:y("basemap-shaded.name"),thumbnailUrl:"",layers:[{id:"shaded",type:"shaded",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBME_CBCE_HS_RO_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"shaded",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}}),v("shadedLabel",{name:y("basemap-shaded-label.name"),type:"shaded_label",description:'":"This Canadian base map provides geographic context using shaded relief with labels. From Natural Resources Canada.',descSummary:"",altText:y("basemap-shaded-label.name"),thumbnailUrl:"",layers:[{id:"shaded",type:"shaded",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBME_CBCE_HS_RO_3978/MapServer/WMTS/tile/1.0.0/CBMT_CBCT_GEOM_3978/default/default028mm/{z}/{y}/{x}.jpg",opacity:1,basemapPaneName:"shaded",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}},{id:"label",type:"label",url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/xxxx_TXT_3978/MapServer/WMTS/tile/1.0.0/xxxx_TXT_3978/default/default028mm/{z}/{y}/{x}.jpg".replaceAll("xxxx",y("layer.type")),opacity:1,basemapPaneName:"label",options:{tms:!1,tileSize:1,noWrap:!1,attribution:!1}}],attribution:"test attribution",zoomLevels:{min:0,max:0}})}),[]),(0,p.jsx)("div",{className:f.listContainer,children:g.map((function(a){return(0,p.jsxs)("div",{role:"button",tabIndex:0,className:f.card,onClick:function(){return C(a.id)},onKeyPress:function(){return C(a.id)},children:["string"==typeof a.thumbnailUrl&&(0,p.jsx)("img",{src:a.thumbnailUrl,alt:a.altText,className:f.thumbnail}),Array.isArray(a.thumbnailUrl)&&a.thumbnailUrl.map((function(e,t){return(0,p.jsx)("img",{src:e,alt:a.altText,className:f.thumbnail},t)})),(0,p.jsx)("div",{className:f.container,children:a.name})]},a.id)}))})},d=window,u=function(){function a(e,t){var s=this;(0,r.Z)(this,a),(0,i.Z)(this,"translations",{"en-CA":{basemapSwitcher:"Basemaps","basemap-transport-label":{name:"Transport with Labels",desc:""},"basemap-transport":{name:"Transport without labels",desc:""},"basemap-shaded":{name:"Shaded Relief",desc:""},"basemap-shaded-label":{name:"Shaded Relief with Labels",desc:""},layer:{type:"CBMT"}},"fr-CA":{basemapSwitcher:"Fond de carte","basemap-transport-label":{name:"Transport avec des étiquettes",desc:""},"basemap-transport":{name:"Transport sans étiquettes",desc:""},"basemap-shaded":{name:"Relief ombré",desc:""},"basemap-shaded-label":{name:"Relief ombré avec étiquettes",desc:""},layer:{type:"CBCT"}}}),(0,i.Z)(this,"added",(function(){var a,e,t=s.BasemapSwitcherPluginProps.mapId,r=d.cgpv.api,i=r.map(t),n=i.language,o=(i.projection,i.getMapOptions,i.currentProjection,{tooltip:s.translations[n].basemapSwitcher,tooltipPlacement:"right",icon:'<i class="material-icons">map</i>',type:"textWithIcon"}),l={title:s.translations[n].basemapSwitcher,icon:'<i class="material-icons">map</i>',width:200};s.buttonPanel=r.map(t).appBarButtons.createAppbarPanel(o,l,null),null===(a=s.buttonPanel)||void 0===a||null===(e=a.panel)||void 0===e||e.changeContent((0,p.jsx)(c,{mapId:t}))})),this.id=e,this.BasemapSwitcherPluginProps=t,this.buttonPanel=null}return(0,s.Z)(a,[{key:"removed",value:function(){var a=this.BasemapSwitcherPluginProps.mapId,e=d.cgpv.api;this.buttonPanel&&e.map(a).appBarButtons.removeAppbarPanel(this.buttonPanel.id)}}]),a}();d.plugins=d.plugins||{},d.plugins.basemapSwitcher=u}},a=>{var e;e=3052,a(a.s=e)}]);